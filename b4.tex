\documentclass{article}
\pagestyle{empty}
\usepackage[paper=b4paper]{geometry}  % Set output to B4 size
\usepackage{graphicx}                 % For including and scaling PDF pages
\usepackage{tikz}                     % For drawing cutting guidelines
\usetikzlibrary{calc}                 % For positioning calculations
\usepackage{pdfpages}                 % To get the number of pages

\begin{document}

% Automatically detect the number of pages in the original PDF
\pdfximage{input.pdf}
\edef\numpages{\pdflastximagepages}

% Loop through each page of the original PDF
\foreach \i in {1,...,\numpages} {
  \begin{tikzpicture}[remember picture, overlay]
    % Include the PDF page, scaled to fit within US Letter size
    \node at (current page.center) {
      \includegraphics[page=\i, width=612pt, height=792pt, keepaspectratio]{input.pdf}
    };
    % Calculate the US Letter area for guidelines
    \pgfmathsetmacro{\leftmargin}{0.5*(\paperwidth - 612)}   % Center horizontally
    \pgfmathsetmacro{\bottommargin}{0.5*(\paperheight - 792)} % Center vertically
    \coordinate (BL) at ($(current page.south west) + (\leftmargin pt, \bottommargin pt)$);
    \coordinate (BR) at ($(BL) + (612pt, 0)$);
    \coordinate (TL) at ($(BL) + (0, 792pt)$);
    \coordinate (TR) at ($(BL) + (612pt, 792pt)$);
    % Draw a dashed red rectangle for the US Letter area
%   \draw [red, thick, dashed] (BL) rectangle (TR);
    % Draw black crop marks at the corners
    \draw [black, very thick] (BL) ++ (-5mm, 0) -- (BL) -- ++ (0, 5mm);
    \draw [black, very thick] (BR) ++ (5mm, 0) -- (BR) -- ++ (0, 5mm);
    \draw [black, very thick] (TL) ++ (-5mm, 0) -- (TL) -- ++ (0, -5mm);
    \draw [black, very thick] (TR) ++ (5mm, 0) -- (TR) -- ++ (0, -5mm);
  \end{tikzpicture}
  \ifnum\i<\numpages \newpage \fi  % Add a new page unless it's the last page
}

\end{document}
